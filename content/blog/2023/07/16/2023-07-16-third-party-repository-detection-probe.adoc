---
layout: post
title: Third Party Repository Detection Probe
tags:
- gsoc
- gsoc2023
- healthscore
- probes
- plugin
authors:
- jagruti
opengraph:
  image: /images/gsoc/2023/jagruti/blog_20230716.png
sig:
- gsoc
---

== Introduction

A third-party repository is a repository that is not hosted at https://repo.jenkins-ci.org/.

The Jenkins Infra team was concerned about the dependencies used from the third-party repositories. These repositories are concern not just for security reasons but also for reliability.

Third party repository detection probe ensures that plugins are built only from trusted and reliable Maven repositories.


== Importance of the probe
This is a community requested probe. In the ticket description for this probe, one of the plugin developers had asked the Jenkins team to include a third-party repository in the plugin build. With the probe in place the Jenkins team would already know the plugins they should add to the build.

== Challenges
In a Maven project all the dependencies are listed the `pom.xml` file. A plugin can have multiple pom files. Each module may have its own pom. Which means they can be multiple child poms in the same repository.

A major challenge in this probe was to consider parent and child pom relationship from all angles.

== Outcome
During code reviews and test cases, we noticed there were assumptions made regarding Maven's project hierarchies.

There were edge case scenarios that were not considered while specifying the probe. Considering the number of open questions, this probe is put on hold until further study was made to adapt the project architecture to tackle the new identified cases.

== Learning
Implemented parameterized test cases to test the probe. Read the Maven documentation to test POM structure, inheritance, and Maven API.


== Conclusion
This is a partially completed probe. 60% of the code and test cases is completed.

The idea is to develop an effective-pom-probe that will compile all the parent-child pom relationships in one file. We can then list third-party-repositories from every pom file used in the repository.

== Links
For more information or to find answers to any questions you might have, head to the official GSoC 2023 project link:/projects/gsoc/2023/projects/add-probes-to-plugin-health-score/[Adding Probes to  "Plugin Health Score"] description page.