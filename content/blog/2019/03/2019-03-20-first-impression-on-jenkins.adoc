---
:layout: post
:title: "The first impression of using Jenkins"
:tags:
- jenkins
- maven
:author: raychou1203
---

NOTE: It is the first time that I use Jenkins.
See the https://blog.jcorn.cn/archives/1550554848767[original blog].

I did not know about Jenkins until last october, and this is also my first touch with the open source community.

Before using Jenkins, as I deploy my tiny maven project on my cloud server I must follow:

----
mvn clean install
scp [my_project].jar [my_username]@[myserverip]:[project_location]
kill [my_project_port]
nohup java -jar [my_project].jar >> my_project.log 2>&1 &
----

Follow the steps above is nothing with a big problem, due to the frequent change of my project, I must repeat these boring rules.
After Jenkins comes, everything has changed.

image::/images/post-images/2019-03-20/build-history.png[]

Jenkins makes automatic deployment possible.
When finishing one stage of code I can push it to gitlab, then Jenkins will pull my code down and deploy it to my production server automatically.
Everything I have to do is having a Jenkins server and some simple scripts, this is once and for all.

----
node {
  checkout scm
  echo "current branch: $BRANCH_NAME"
  if (BRANCH_NAME.startsWith("release")) {
    sh "mvn clean install"
  }
}
----

After packing the project I can use the `Publish Over SSH` plugin instead of the tedious shell command.

----
#!/bin/bash
cd /project/
./stop.sh
./replace.sh
echo "Execute shell Finish"
BUILD_ID=dontKillMe /project/startup.sh
----

With these simple scripts, everything is as easy as `Hello World`, what I need to do is just:

----
git push gitlab release
----

I have not logged into my server since I used Jenkins, this is the charm of it.