---
layout: post
title: "Read only jenkins announcement"
tags:
- system-read
- extended-read
- configuration-as-code
- announcement
author: timja
---

I'm excited to announce that the 'read-only' Jenkins feature is now available.

You will want to use at least version TODO (waiting for agent to be released) of Jenkins.

Read-only Jenkins currently allows users to have access to:

* job configuration
* system configuration
* plugin manager
* system logs
* cloud configuration
* agent configuration
* agent logs

For more planned integrations see the jira:JENKINS-12548[] epic.

Read-only Jenkins is split into three permissions:

* Job/ExtendedRead
  - existed since 2009 but the UI didn't do anything to indicate to the users
  that they couldn't edit the job configuration page, this has now been adapted to the new read-only engine.
* Agent/ExtendedRead
  - existed since 2013 but it was undocumented and only allowed access to API and no UI
* Overall/SystemRead

You can selectively grant the permission(s) as you wish.

== Why do I want this?

Given the rise of the configuration-as-code plugin a lot of Jenkins instances are fully managed as code, 
which mean that no changes are allowed through the UI. 

The problem with this is you donâ€™t know when new plugin versions are available and in order to see what other configuration options are available to a plugin you currently need the 'Administer' permission.

Allowing non administrator users to debug issues with their builds easier, i.e. given a 'Jenkins' error message in a build the user can check:

1. which plugins are installed, 
2. the version of the plugin

This can allow the user to solve their issue themselves and makes it easier for the user to report an issue with a plugin directly to the maintainers.

== What can I expect

All built in UI controls have been adapted to clearly distinguish between
an editable control and a control you don't have permission to edit:

Editable:

image:/images/post-images/2020/05-read-only-jenkins-announcement/build-discarder-edit.png[]

Non editable:

image:/images/post-images/2020/05-read-only-jenkins-announcement/build-discarder-read.png[]


_Note: there are other controls such as in the credentials and pipeline plugins that have
not been updated yet._

Action buttons, (Such as 'Save' and 'Apply') have been hidden in most cases.

There is more work on this needed, some plugins need support added and certain controls 
could have some improvements done to render better.

== How can I use it?

These permissions are currently available in beta and for now disabled by default,
you can enable them by installing the plugin:extended-read-permission[Extended read permission plugin].

Then you will need to add the following permissions to a user / group depending on your usecase:

* Overall/SystemRead
* Job/ExtendedRead
* Agent/ExtendedRead

_Note: You will need to set the Overall/Read and Job/Read permissions as well, you might
want to consider creating a role containing the required permissions._

Here is an example using the plugin:configuration-as-code[Configuration as Code plugin] and the plugin:folder-auth[Folder-based Authorization Strategy plugin]:

[source,yaml]
----
jenkins:
  authorizationStrategy:
    folderBased:
      globalRoles:
        - name: "admin"
          permissions:
            - id: "Overall/Administer"
          sids:
            - "admin"
        - name: "global read"
          permissions:
            - id: "Agent/ExtendedRead"
            - id: "Overall/SystemRead"
            - id: "Overall/Read"
            - id: "Job/Read"
            - id: "Job/ExtendedRead"
          sids:
            - "reader" 
----

== I can't see a configuration that I think should be allowed

Most of Jenkins itself has been updated to support read-only Jenkins, but not very many plugins,
please create an enhancement issue on the plugins issue tracker, if they use Jira then
you can add it to the jira:JENKINS-12548[] epic.

== How do I update my plugin to support it

See the link:/doc/developer/views/read-only/[Read only view] section of the developer documentation.

== What's next

System read permission is a featured project in the link:/events/online-hackfest/2020-uiux/[UI/UX Hackfest]
happening May 25-29 2020. If you want to get involved please check it out!
