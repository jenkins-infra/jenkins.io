---
layout: gsocprojectidea
title: "Artifact Promotion plugin for Jenkins Pipeline"
goal: "Create a new highly anticipated engine for managing promotions in Jenkins Pipeline, with modern UIs and REST APIs"
category: Plugins
year: 2019
status: published
skills:
- Java
- JavaScript
- REST API
mentors:
- name: "Claus Schneider"
  github: "bicschneider"
- name: "Oleg Nenashev"
  id: "oleg_nenashev"
  github: "oleg-nenashev"
links:
  draft: https://docs.google.com/document/d/1UYi0jIYsKHE5IGS84B5W0XBoeMyF4yY_exu-21O99U8
---

There is a popular Promoted Builds Plugin in Jenkins, which allows promoting artifacts after the build completion. The plugin offers extensive UI and extension points so that Jenkins users may configure various manual and automated flows with various promotion steps and target environments. Unfortunately, Promoted Builds plugin does not support Jenkins Pipeline due to some architectural issues. The feature request for such support is one of the most popular issues in Jenkins JIRA: link:https://issues.jenkins-ci.org/browse/JENKINS-36089[JENKINS-36089].

In this project idea we propose to create a new plugin for managing promotions in Jenkins. It would allow Jenkins users to not only get support of Jenkins Pipeline, but also to get modern Web UIs and APIs. As proposed in link:https://issues.jenkins-ci.org/browse/JENKINS-36089?focusedCommentId=280959&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-280959[this comment], this project would include a serious redesign of the architecture.  This project may be interesting to both backend and frontend developers, depending on the scope defined by the applicant.

Potential tasks for the implementation on Java:

* Create a new plugin implementation, which supports promotion for Pipeline, Freestyle, and other job types. Promotion jobs become separate job instances within Jenkins, and the promotions will be also tied to artifacts instead of builds
* Detach the existing link:https://jenkins.io/doc/developer/extensions/promoted-builds/#promotioncondition[PromotionCondition] extension point and implementations from Promoted Builds plugin to a separate plugin so that they can be reused in the new plugin. It will allow to retain existing implementations
* Use the standard Jenkins Fingerprinting engine to trace and visualize artifact promotions within the system (e.g. similar to link:https://github.com/jenkinsci/docker-traceability-plugin[Docker Traceability Plugin UIs])
* Implement link:https://jenkins.io/doc/developer/extensions/jenkins-core/#trigger[Triggers] so that other Pipelines can be invoked on artifact promotions
* Introduce new REST API for managing promotions in Jenkins (start promotion, approve promotion, etc.). 
* REST API or GraphQL may be also introduced to query the data
* Update Jenkins Release plugin to use the new plugin as an internal engine for doing promotions so that this plugin can use the new plugin internally
* Integration with link:https://github.com/jenkinsci/configuration-as-code-plugin[Configuration as Code Plugin] so that promotion rules can be defined in YAML 

Potential tasks with WebUI focus (JavaScript):

* Introduce new fancy-looking WebUI for managing promotions. This UI can be written in JavaScript so that it can be potentially used outside Jenkins on a standalone instance. For UI examples, see deployments management in AppVeyor
* Introduce integrations with other WebUI plugins, e.g. BlueOcean
* Introduce new visualization for tracking back artifact-related events as an unbalanced graph (what preceded the promotion)

The goals above may be a single or multiple GSoC projects. Applicants are welcome to select only some of the items proposed above, or to propose their own ideas. If there are multiple applications, coordination will be done in the Pipeline Authoring SIG.

Links

* link:https://issues.jenkins-ci.org/browse/JENKINS-36089[JENKINS-36089] - EPIC for Pipeline support in promoted builds 
* https://groups.google.com/forum/#!topic/jenkinsci-dev/NjWxDCSNe8s - discussion in the Jenkins Developer mailing list

Newbie-friendly issues

* https://issues.jenkins-ci.org/issues/?jql=project%20%3D%20JENKINS%20AND%20component%20%3D%20promoted-builds-plugin%20AND%20labels%20%3D%20newbie-friendly 
