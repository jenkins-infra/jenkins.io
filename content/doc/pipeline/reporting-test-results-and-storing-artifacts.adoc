---
layout: documentation
title: Reporting test results and storing artifacts
section: doc
---

:toc:

= Reporting test results
If you have a test runner (such as maven surefire, or many of the javascript runners) the chances are it can output the junit/xml style of test result reports. If so, recording them is easy:

----
postBuild {
  always {
    junit "path/to/xml"
  }
}
----

This will always grab the test results and let Jenkins track them, calculate trends and report on them. Jenkins has plugins for pretty much all other types of test runners too. A build that has failing tests is marked as `UNSTABLE` (to separate it from `FAILED`).

= Storing artifacts

If you want to store an artifact for downloading later (ie keep a record of it):

----
postBuild {
   success {
      archive "target/**/*"
   }
}
----

A more complete example:

----

pipeline {
    agent docker:"java"
    stages {
        stage("build") {
            sh 'mvn clean install -Dmaven.test.failure.ignore=true'
        }
    }

    postBuild {
        always {
            archive "target/**/*"
            junit 'target/surefire-reports/*.xml'
        }
    }
}
----
