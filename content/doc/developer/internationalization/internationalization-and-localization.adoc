---
title: Internationalization and Localization
layout: developersection
---

https://www.jenkins.io/doc/book/using/using-local-language/[How
to view Jenkins in your language].

'''''

== Translations to Specific languages

* https://wiki.jenkins.io/JENKINS/65670018[Chinese
(Traditional) Translation]
* https://wiki.jenkins.io/JENKINS/135469573[Chinese
(Simplified) Translation]
* https://wiki.jenkins.io/JENKINS/French-Localization[French
Localization]
* https://wiki.jenkins.io/display/JA/Japanese-Localization[Japanese
Localization]
* https://wiki.jenkins.io/JENKINS/Polish-Localization[Polish
Localization]
* https://wiki.jenkins.io/JENKINS/Spanish-Translation[Spanish
Translation]
* https://wiki.jenkins.io/JENKINS/Brazilian-Portuguese-Translation[Brazilian
Portuguese Translation]

== What developers need to know/do

Developers must do the following to localize a plugin or other module:

. Generate type-safe `+Messages+` classes from `+Messages.properties.+`.
. Mark messages in jelly files.
. Create html files for help tips.

=== Generate of `+Messages+` classes

Jenkins uses the Java https://docs.oracle.com/middleware/1212/wls/WLAPI/weblogic/i18n/Localizer.html[Localizer]
package to generate
classes for that access message resources in a type-safe way. For each
`+src/main/resources/**/Messages.properties+`, a Messages class is
generated. See the referenced page to see what this class looks like. If
your IDE fails to find these classes, manually add
the "target/generated-sources/localizer" directory to your source root.

Wherever the code returns a String for display purpose (such as
`+Descriptor.getDisplayName()+`), use the Messages class to obtain a
localized message. At runtime, a proper locale is selected
automatically. A typical workflow for this is as follows:

. Identify messages that need be localized
. Place those messages in Messages.properties. You can use
a file for each package, or you could have one such file for the
whole module/plugin.
. Run `+mvn compile+` once to re-generate `+Messages.java+`
. Update your code to use the newly generated message formatting method
+
[cols="",]
|===
|As usual, looking at how the core code does this might help you get the
idea of how to do this.
|===
+
[cols="",]
|===
|*Note:* If your message contains single quote character ('), then you
need to escape it with another single quote character such as ''. So
"that's" becomes "that''s". If you're in need of an apostrophe character
you might consider using â€™ - the unicode character U+2019, written in
properties file as \u2019.
|===

=== Marking messages in jelly files

Your jelly files in `+src/main/resources+` often contain messages that
need to be localized, and those need to be marked as well.

In the simplest case, suppose you have a part of a Jelly file that looks
like the following:

[width="100%",cols="100%",]
|===
a|
....
<h1>Output</h1>
<p>...</p>
....

|===

Change this to the following:

[width="100%",cols="100%",]
|===
a|
....
<h1>${%Output}</h1>
<p>...</p>
....

|===

The $\{%...} marker tells stapler,
(explained in link:doc/developer/architecture/web/) to look for localized resources,
and, if none are found, it prints "Output" for this, which is what
you want.

Let's consider the case where the localization requires parameters.
Suppose you have a Jelly file `+foo.jelly+` like this:

[width="100%",cols="100%",]
|===
a|
....
<p>Click <a href="${obj.someMethod(a,b,c)}" >here</a></p>
....

|===

In this case, first you must write `+foo.properties+` for the default
locale:

[width="100%",cols="100%",]
|===
a|
....
click.here.link=Click <a href="{0}" >here</a>
....

|===

Then update `+foo.jelly+` to refer to this:

[width="100%",cols="100%",]
|===
a|
....
<p>${%click.here.link(obj.someMethod(a,b,c))}</p>
....

|===

You can pass multiple parameters, separating them with ','
(just like a function call), and from property files you can reference
them as \{0}, \{1}, etc., by following
https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/MessageFormat.html[the
MessageFormat class convention].

Now consider the case where you put a message in an expression.
Suppose you have a Jelly file like this:

[width="100%",cols="100%",]
|===
a|
....
<p>${h.ifThenElse(x,"no error","error")}</p>
....

|===

You can mark those two strings for localization like this:

[width="100%",cols="100%",]
|===
a|
....
<p>${h.ifThenElse(x,"%no error","%error")}</p>
....

|===

Finally, because you can use expressions in Jelly, you need to ensure
your regular strings don't contain brackets. +
For example, this will *not* parse correctly, as it will be parsed as an
expression:

[width="100%",cols="100%",]
|===
a|
....
<h1>${%Path to file (.ipa or .apk)}</h1>
....

|===

You need to create two separate strings in this case:

[width="100%",cols="100%",]
|===
a|
....
<h1>${%Path to file} (${%.ipa or .apk})</h1>
....

|===

=== Create of html files for help tips.

You can configure entries in jelly files that display a tip message when the user clicks on a help icon.

[width="100%",cols="100%",]
|===
a|
....
<f:entry title="${%title}" help="/plugin/myPlugin/help.html">
....

|===

Then, just create the file help.html for English or help_xx.html for the
'xx' language.

== What translators need to know/do

The Jenkins project always welcomes contributions to translations. If
you are interested in helping us, just file a pull request on GitHub. In
the remainder of this section, we discuss what needs to be translated
and how.

[cols="",]
|===
|Remember that properties files must be encoded in
https://docs.oracle.com/javase/6/docs/api/java/util/Properties.html[ISO
8859-1]. This should be the default anyway.
|===

=== Translation tools

* https://wiki.jenkins.io/display/JENKINS/Translation-Tool[Translation
Tool] : Command line tool to help translators to generate files, add
missing keys, and more.
* https://plugins.jenkins.io/translation/[Translation
Assistance Plugin] : Adds a dialog box in Jenkins to translate and send
missing keys.

=== Translating `+Messages.properties+`

Developers place messages that require localization in
`+Messages.properties+`. Those need to be translated in the usual
manner. See `+Messages_ja.properties+` in the core as an example if you
are new to this process.

If looking at `+Messages.properties+` alone does not give you
enough contextual information about where the messages are used. you can access messages by with the
type-safe `+Messages+` class generated by
https://docs.oracle.com/middleware/1212/wls/WLAPI/weblogic/i18n/Localizer.html[Localizer]. To find out where
messages are actually used, use your IDE to find all the usages of the
message format method.

=== Translating message references in Jelly

The other messages that need to be translated are in Jelly view files,
which are in `+src/main/resources/**.jelly+`. To localize them, first
you run Maven to generate a skeleton property file for your locale:

[width="100%",cols="100%",]
|===
a|
....
$ cd jenkins/core  (or a plugin dir)
$ mvn stapler:i18n -Dlocale=fr
....

|===

This generates `+*_fr.properties+` throughout
`+src/main/resources+` with an empty value. If the file already exists,
it appends missing entries to existing files.

You can then translate messages in each property file.
It is not necessary to translate the entire file;
entries that are empty fall back to the default locale.

[cols="",]
|===
|https://addons.mozilla.org/en-US/firefox/addon/locale-switcher/[Quick Locale Switcher]
extension to firefox is useful to toggle between various locales.
|===

=== Translating static HTML resources

Stand-alone HTML files are often used in Jenkins for things like inline
help messages. To translate these resources, add the
locale code between the file name and the extension. For example, the
Japanese version of `+abc.html+` would be `+abc_ja.html+`, and the British
version of it could be `+abc_en_GB.html+`. These files must be
encoded in UTF-8.

=== Pushing changes

After making some changes, you can commit them. Translators should
consider themselves as owning property files for their locale, so feel
free to go ahead and just commit. If you are new to this, doing a small
commit first is a good idea. You can instead send in a patch if you
prefer to be safe.

When starting a translation, try to check if anyone else is working
on the same locale. You can find out who they are by finding existing
localization and looking at its history. Try to get in touch with them
to avoid a surprise.

== Jenkins Development Support plugin for IntelliJ IDEA

Refactoring the existing code to handle i18n correctly is tedious. So
https://plugins.jetbrains.com/plugin/1885-jenkins-development-support[IntelliJ IDEA plugin Jenkins Development Support]
is developed to simplify this.

image:../../../images/developer/internationalization-and-localization/download_jenkins_dev_support.png[Install Plugin]

== Stapler plugin for NetBeans

See
https://github.com/stapler/netbeans-stapler-plugin[NetBeans
plugin for Stapler] for details.

== Translation Completeness Reports

Visit http://www.simonwiest.de/glottr/report/ for Glottr Report


